<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/base}">

<head>
  <title>헬스장 상세정보</title>
  <link rel="stylesheet" th:href="@{/css/gym-detail.css}">
</head>

<body>
<main layout:fragment="content" class="container py-5">

  <div class="wrapper">

    <!-- 상단 이미지 + 찜 버튼 -->
    <div class="gym-header">
      <img src="/images/healthGym.jpg" alt="헬스장 이미지">
      <button class="like-button">🤍 찜하기</button>
    </div>

    <!-- 지도 페이지로 돌아가기 버튼 -->
    <div class="back-button-container">
      <button onclick="location.href='/map'" class="back-button">← 지도 페이지로</button>
    </div>

    <!-- 상세 정보 박스 -->
    <div class="gym-container">
      <h2 th:text="${detailData.getName()}">헬스장이름</h2>
      <p><strong>주소:</strong><span th:text="${detailData.getAddress()}"></span></p>
      <p><strong>전화번호:</strong><span th:text="${detailData.getPhone()}"></span></p>
      <hr>

      <!-- ⭐ 평균 평점 박스 -->
      <h3 class="section-title">⭐ 이용 후기</h3>
      <div class="rating-box">
        <ul class="average-rating">
          <strong th:text="${detailData.getAverageRating()}"></strong><span th:text=" '별점' + ${detailData.getReviewCount()} + '개'" class="review-count"></span>
          <div class="star-icons">⭐⭐⭐⭐⭐</div>
        </ul>
      </div>

      <!-- ✍️ 리뷰 작성 버튼 -->
      <div class="write-review-box">
        <button class="write-review-button" onclick="">
          ✍️ 리뷰 작성하기
        </button>
      </div>

      <!-- 📝 리뷰 카드 목록 -->
      <ul>
        <li th:each="review : ${detailData.gymReviews}">
          <div class="review-card">
            <div class="review-header">
              <div>
                <p class="username" th:text="${review.user.getUsername()}">아이디</p>
                <p class="stars" >⭐⭐⭐⭐⭐</p>
              </div>
              <span class="review-date" th:text="${#dates.format(review.createdDate, 'yyyy-MM-dd')}">날짜</span>
            </div>
            <div class="review-content">
              <p th:text="${review.content}">내용</p>
            </div>
          </div>
        </li>
      </ul>

      <!-- 무한 스크롤 로딩 텍스트 -->
      <p class="loading">리뷰를 불러오는 중...</p>

      <hr>

      <!-- 지도 영역 -->
      <h3>📍 위치</h3>
      <div class="map-placeholder">
        <!-- 지도 위치 들어올 부분 -->
      </div>
    </div>

  </div>

</main>
</body>
</html>
